# 專案開發除錯記錄

此目錄存放專案開發過程中遇到的問題、除錯過程和解決方案的記錄文件。

---

## 📁 目錄說明

本目錄專門用於記錄：
- ✅ 開發過程中遇到的技術問題
- ✅ 除錯步驟和診斷過程
- ✅ 最終解決方案和最佳實踐
- ✅ 工具使用指南和故障排除

**注意**：`/docs/` 主目錄只放置功能設計相關文件（如 IDEF0 架構設計）。

---

## 🔧 Mermaid 圖表渲染問題

### 問題記錄

**發現日期**：2025-10-30

**症狀**：
- Mermaid 圖表在 VS Code 的 Markdown 預覽中「閃一下就消失」
- 顯示錯誤訊息："No diagram type detected matching given configuration for text"
- 相同圖表在官方平台 (https://mermaid.live/) 渲染正常

**根本原因**：
- VS Code 擴充套件 `bierner.markdown-mermaid@1.29.0` 對複雜 `subgraph` 結構的支援不穩定
- Mermaid 語法本身正確，問題出在擴充套件的渲染引擎

**解決方案**：
- 使用 `vstirbu.vscode-mermaid-preview@2.1.2` 的獨立預覽視窗
- 設定快捷鍵 `Ctrl+Alt+M` 提高效率
- 或使用線上平台 https://mermaid.live/ 作為備用方案

### 相關文件

| 文件名稱 | 用途 | 適用場景 |
|---------|------|---------|
| [Mermaid_最終解決方案.md](Mermaid_最終解決方案.md) | 快速開始指南 | 想快速了解解決方案 |
| [Mermaid_使用指南.md](Mermaid_使用指南.md) | 語法參考和基礎教學 | 學習 Mermaid 語法 |
| [Mermaid_故障排除.md](Mermaid_故障排除.md) | 完整的問題排查指南 | 遇到其他 Mermaid 問題 |
| [Mermaid_擴充套件切換指南.md](Mermaid_擴充套件切換指南.md) | 7 種解決方案詳解 | 需要深入了解各種方案 |
| [Mermaid_快速測試.md](Mermaid_快速測試.md) | 4 個測試案例 | 診斷渲染問題 |
| [Mermaid_測試.md](Mermaid_測試.md) | 基本功能測試 | 驗證擴充套件安裝 |

### 關鍵統計

- **專案中的 Mermaid 圖表數量**：77 個
- **分布文件數量**：16 個 Markdown 文件
- **語法修復歷史**：
  - 修復前：33 個 `graph` 語法（不推薦）
  - 修復後：57 個 `flowchart` 語法（推薦）
  - 當前狀態：20 個 `subgraph` 使用（需用獨立預覽）

---

## 📝 文件維護指南

### 何時新增除錯文件

當遇到以下情況時，應該在此目錄建立新的除錯記錄：

1. **遇到非預期的技術問題**
   - 工具或擴充套件的相容性問題
   - 環境設定導致的錯誤
   - 第三方服務的限制或異常

2. **需要多個步驟才能解決的問題**
   - 診斷過程複雜
   - 嘗試了多種解決方案
   - 最終方案有特殊設定或注意事項

3. **問題可能會重複發生**
   - 團隊其他成員可能遇到相同問題
   - 未來更新版本時可能再次出現
   - 需要記錄最佳實踐供參考

### 文件命名規範

```
[工具/元件名稱]_[問題類型].md

範例：
- Mermaid_故障排除.md
- VSCode_擴充套件問題.md
- API_連線逾時解決方案.md
- Git_LFS_設定指南.md
```

### 除錯文件結構模板

```markdown
# [工具/元件名稱] - [問題類型]

## 🚨 問題描述

**發現日期**：YYYY-MM-DD

**症狀**：
- 列點描述觀察到的問題

**環境資訊**：
- 作業系統版本
- 工具版本
- 相關依賴版本

---

## 🔍 根本原因分析

詳細說明問題的根本原因，包括：
- 為什麼會發生
- 影響範圍
- 相關的技術背景

---

## ✅ 解決方案

### 方案 1: [推薦方案名稱]

**步驟**：
1. 第一步
2. 第二步
3. 第三步

**優點**：
- 列出優點

**缺點**：
- 列出缺點或限制

### 方案 2: [替代方案名稱]

（同上結構）

---

## 📊 驗證測試

如何驗證問題已解決：
- 測試步驟
- 預期結果

---

## 📚 參考資源

- 相關官方文件連結
- Issue tracker 連結
- 相關討論串連結
```

---

## 🗑️ 清理政策

### 何時移除除錯文件

當滿足以下條件時，可考慮歸檔或移除除錯文件：

1. **問題已在上游修復**
   - 工具/擴充套件已發布修復版本
   - 問題不再出現在最新版本中
   - 可移至 `docs/troubleshooting/archived/`

2. **解決方案已整合到標準流程**
   - 已寫入正式文件或配置
   - 已自動化處理
   - 已成為團隊標準實踐

3. **技術棧已淘汰**
   - 不再使用該工具或元件
   - 已遷移到其他解決方案

### 歸檔流程

```bash
# 建立歸檔目錄
mkdir -p docs/troubleshooting/archived

# 移動已解決的問題
git mv docs/troubleshooting/舊問題.md docs/troubleshooting/archived/

# 在 README 中記錄歸檔原因
```

---

## 📞 聯絡資訊

如有問題或需要補充除錯記錄，請：
1. 在專案中提交 Issue
2. 更新本 README 並發送 Pull Request
3. 確保新的除錯文件遵循命名規範和結構模板

---

**最後更新**：2025-10-30
**維護者**：專案開發團隊
