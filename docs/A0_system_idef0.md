# å°ˆåˆ©èµ·è‰è‡ªå‹•åŒ–ç³»çµ± IDEF0 æ¶æ§‹å»ºæ¨¡

## æ–‡ä»¶è³‡è¨Š
- **å°ˆæ¡ˆåç¨±**: å°ˆåˆ©èµ·è‰è‡ªå‹•åŒ–ç³»çµ± (Patent Drafting Automation System)
- **å»ºæ¨¡æ–¹æ³•**: IDEF0 (Integration Definition for Function Modeling)
- **ç‰ˆæœ¬**: v1.0
- **å»ºç«‹æ—¥æœŸ**: 2025-10-30
- **ä½œè€…**: System Architect

---

## ç›®éŒ„
1. [ç³»çµ±æ¦‚è¿°](#ç³»çµ±æ¦‚è¿°)
2. [IDEF0 å»ºæ¨¡èªªæ˜](#idef0-å»ºæ¨¡èªªæ˜)
3. [A-0: æƒ…å¢ƒåœ– (Context Diagram)](#a-0-æƒ…å¢ƒåœ–-context-diagram)
4. [A0: é ‚å±¤åŠŸèƒ½åœ–](#a0-é ‚å±¤åŠŸèƒ½åœ–)
5. [A1-A8: å­åŠŸèƒ½åˆ†è§£](#a1-a8-å­åŠŸèƒ½åˆ†è§£)
6. [ICOM åˆ†æè¡¨](#icom-åˆ†æè¡¨)
7. [ç³»çµ±å¯¦ä½œå»ºè­°](#ç³»çµ±å¯¦ä½œå»ºè­°)

---

## ç³»çµ±æ¦‚è¿°

### ç›®çš„
å»ºç«‹ä¸€å€‹å…¨è‡ªå‹•åŒ–çš„å°ˆåˆ©ç”³è«‹æ–‡ä»¶èµ·è‰ç³»çµ±ï¼Œå°‡ç¾æœ‰çš„ Prompt-based å¤š Agent æ¶æ§‹å°è£ç‚ºå¯ç¨ç«‹é‹è¡Œçš„ç”¢å“ï¼Œæä¾›å®Œæ•´çš„ä½¿ç”¨è€…ä»‹é¢å’Œè‡ªå‹•åŒ–æµç¨‹æ§åˆ¶ã€‚

### æ ¸å¿ƒåƒ¹å€¼ä¸»å¼µ
1. **å…¨è‡ªå‹•åŒ–**: å¾ä¸Šå‚³æŠ€è¡“äº¤åº•æ›¸åˆ°è¼¸å‡ºå®Œæ•´å°ˆåˆ©æ–‡ä»¶ï¼Œç„¡éœ€äººå·¥ä»‹å…¥
2. **æ¨¡çµ„åŒ–è¨­è¨ˆ**: å„åŠŸèƒ½æ¨¡çµ„ç¨ç«‹é‹ä½œï¼Œæ˜“æ–¼ç¶­è­·å’Œæ“´å±•
3. **ä½¿ç”¨è€…å‹å–„**: æä¾›ç›´è¦ºçš„ UI ä»‹é¢å’Œå³æ™‚é€²åº¦å›é¥‹
4. **å“è³ªä¿è­‰**: å…§å»ºé©—è­‰æ©Ÿåˆ¶ï¼Œç¢ºä¿è¼¸å‡ºç¬¦åˆå°ˆåˆ©æ³•è¦ç¯„

### ç³»çµ±é‚Šç•Œ
- **è¼¸å…¥**: æŠ€è¡“äº¤åº•æ›¸ (DOCX æ ¼å¼)
- **è¼¸å‡º**: å®Œæ•´å°ˆåˆ©ç”³è«‹æ–‡ä»¶ (Markdown + DOCX æ ¼å¼)
- **ä½¿ç”¨è€…**: ä¼æ¥­å°ˆåˆ©éƒ¨é–€ã€å°ˆåˆ©äº‹å‹™æ‰€ã€ç ”ç™¼äººå“¡
- **å¤–éƒ¨ç³»çµ±**: Google Patents API, Exa Search API, Claude AI API

### é«˜å±¤æ¶æ§‹åœ–

```mermaid
flowchart TB
    WebUI["ğŸŒ Web æ‡‰ç”¨<br/>ä¸Šå‚³åƒè€ƒè³‡æ–™"]
    CLI["ğŸ’» CLI æ‡‰ç”¨<br/>å‘½ä»¤åˆ—æ¨¡å¼"]
    UserRequest["ğŸ“„ ä½¿ç”¨è€…è«‹æ±‚<br/>ç”Ÿæˆå°ˆåˆ©ç”³è«‹æ–‡ä»¶"]
    LeadAgent["ä¸»æ™ºæ…§é«” Lead Agent<br/>(å°ˆæ¡ˆå”èª¿å™¨)<br/><br/>å·¥å…·é›†: File I/O + Markitdown + MCP Tools + run_subagent + complete_task + Todolist"]
    S1["ğŸ“„ æ–‡ä»¶è§£æ<br/>Input Parser"]
    S2["ğŸ” è³‡è¨Šæª¢ç´¢<br/>Information Retriever"]
    S3["ğŸ“‹ å¤§ç¶±ç”Ÿæˆ<br/>Outline Generator"]
    S4["âœï¸ æ®µè½æ’°å¯«<br/>Content Writer"]
    S5["ğŸ“Š åœ–è¡¨ç”Ÿæˆ<br/>Diagram Generator"]
    S6["ğŸ“¦ æ–‡ä»¶æ•´åˆå’Œè½‰æ›<br/>Document Merger"]
    Memory["ğŸ’¾ æª”æ¡ˆç³»çµ±<br/>Memory<br/>output/temp_UUID/"]
    TodoList["ğŸ“ TodoList<br/>ä»»å‹™ç®¡ç†"]
    GooglePatents["ğŸ” Google Patents<br/>å°ˆåˆ©æª¢ç´¢"]
    ExaSearch["ğŸŒ Exa Search<br/>Webæœå°‹"]
    Markitdown["ğŸ“ Markitdown<br/>æ–‡ä»¶è½‰æ›"]
    ImageGenerator["ğŸ–¼ï¸ åœ–ç‰‡ç”Ÿæˆ<br/>Image Generator"]
    DocumentGenerator["ğŸ“„ æ–‡ä»¶ç”Ÿæˆ<br/>Document Generator"]
    FinalOutput["ğŸ“‘ å®Œæ•´å°ˆåˆ©ç”³è«‹æ–‡ä»¶"]
    PatentSkills["ğŸ”§ å°ˆåˆ©èµ·è‰æŠ€èƒ½"]
    DiagramSkills["ğŸ“Š åœ–è¡¨ç”ŸæˆæŠ€èƒ½"]
    PatentOutline["ğŸ“‘ å°ˆåˆ©å¤§ç¶±ç¯„æœ¬"]

    WebUI -->|ä½¿ç”¨è€…è«‹æ±‚| UserRequest
    CLI -->|ä½¿ç”¨è€…è«‹æ±‚| UserRequest
    UserRequest --> LeadAgent

    LeadAgent <--> S1
    LeadAgent <--> S2
    LeadAgent <--> S3
    LeadAgent <--> S4
    LeadAgent <--> S5
    LeadAgent <--> S6

    LeadAgent <-->|è®€å¯«| Memory
    LeadAgent <-->|ç¶­è­·| TodoList

    S1 -.å‘¼å«.-> Markitdown
    S2 -.å‘¼å«.-> GooglePatents
    S2 -.å‘¼å«.-> ExaSearch
    S5 -.å‘¼å«.-> ImageGenerator
    S6 -.å‘¼å«.-> DocumentGenerator

    LeadAgent -->|æœ€çµ‚å°ˆåˆ©æ–‡ä»¶| FinalOutput

    PatentSkills -->|è¼‰å…¥æŠ€èƒ½| LeadAgent
    DiagramSkills -->|è¼‰å…¥æŠ€èƒ½| LeadAgent
    PatentOutline -->|è¼‰å…¥æŠ€èƒ½| LeadAgent

    style LeadAgent fill:#B3D4E8,stroke:#666,stroke-width:2px,color:#333
    style S1 fill:#D4E8F0,stroke:#666,stroke-width:1px,color:#333
    style S2 fill:#D4E8F0,stroke:#666,stroke-width:1px,color:#333
    style S3 fill:#D4E8F0,stroke:#666,stroke-width:1px,color:#333
    style S4 fill:#D4E8F0,stroke:#666,stroke-width:1px,color:#333
    style S5 fill:#D4E8F0,stroke:#666,stroke-width:1px,color:#333
    style S6 fill:#D4E8F0,stroke:#666,stroke-width:1px,color:#333
    style Memory fill:#E8E8E8,stroke:#666,stroke-width:1px,color:#333
    style GooglePatents fill:#E8E8E8,stroke:#666,stroke-width:1px,color:#333
    style ExaSearch fill:#E8E8E8,stroke:#666,stroke-width:1px,color:#333
    style Markitdown fill:#E8E8E8,stroke:#666,stroke-width:1px,color:#333
    style DocumentGenerator fill:#E8E8E8,stroke:#666,stroke-width:1px,color:#333
    style ImageGenerator fill:#E8E8E8,stroke:#666,stroke-width:1px,color:#333
    style UserRequest fill:#FFF,stroke:#999,stroke-width:1px,color:#333
    style FinalOutput fill:#FFF,stroke:#999,stroke-width:1px,color:#333
```

**æ¶æ§‹èªªæ˜**:

- **Lead Agent (ä¸»æ™ºæ…§é«”)**: å°ˆæ¡ˆå”èª¿å™¨ï¼Œè² è²¬æ•´é«”æµç¨‹æ§åˆ¶å’Œä»»å‹™åˆ†é…
  - å·¥å…·é›†: File I/O, Markitdown, MCP Tools, run_subagent, complete_task, Todolist
  - æŠ€èƒ½è¼‰å…¥: å°ˆåˆ©èµ·è‰æŠ€èƒ½ã€åœ–è¡¨ç”ŸæˆæŠ€èƒ½ã€å°ˆåˆ©å¤§ç¶±ç¯„æœ¬

- **å­æ™ºæ…§é«” (Sub-Agents)**: 6 å€‹å°ˆæ¥­å­ Agent åŸ·è¡Œå…·é«”ä»»å‹™
  - S1: æ–‡ä»¶è§£æ â†’ ä½¿ç”¨ Markitdown å·¥å…·
  - S2: è³‡è¨Šæª¢ç´¢ â†’ ä½¿ç”¨ Google Patents + Exa Search
  - S3: å¤§ç¶±ç”Ÿæˆ
  - S4: æ®µè½æ’°å¯«
  - S5: åœ–è¡¨ç”Ÿæˆ â†’ ä½¿ç”¨ Image Generator
  - S6: æ–‡ä»¶æ•´åˆ â†’ ä½¿ç”¨ Document Generator

- **è¨˜æ†¶é«”ç³»çµ±**: æª”æ¡ˆç³»çµ± (output/temp_UUID/) ä½œç‚º Agent é–“é€šè¨Šåª’ä»‹
- **ä»»å‹™ç®¡ç†**: TodoList è¿½è¹¤åŸ·è¡Œé€²åº¦

---

## IDEF0 å»ºæ¨¡èªªæ˜

### IDEF0 å››è¦ç´  (ICOM)

```
        Control (C) - æ§åˆ¶
              â†“
Input (I) â†’ [æ´»å‹•] â†’ Output (O)
              â†‘
        Mechanism (M) - æ©Ÿåˆ¶
```

- **Input (I)**: è¼¸å…¥è³‡æ–™ï¼Œè¢«æ´»å‹•è½‰æ›æˆ–æ¶ˆè€—
- **Control (C)**: æ§åˆ¶æ¢ä»¶ï¼ŒæŒ‡å°æ´»å‹•å¦‚ä½•åŸ·è¡Œ
- **Output (O)**: è¼¸å‡ºç”¢ç‰©ï¼Œæ´»å‹•çš„çµæœ
- **Mechanism (M)**: åŸ·è¡Œæ©Ÿåˆ¶ï¼ŒåŸ·è¡Œæ´»å‹•çš„è³‡æºæˆ–å·¥å…·

### å»ºæ¨¡å±¤ç´š
- **A-0**: æƒ…å¢ƒåœ– - ç³»çµ±èˆ‡å¤–éƒ¨ç’°å¢ƒçš„äº’å‹•
- **A0**: é ‚å±¤åœ– - ç³»çµ±ä¸»è¦åŠŸèƒ½
- **A1-A8**: è©³ç´°åˆ†è§£ - å„å­åŠŸèƒ½çš„ ICOM å®šç¾©

---

## A-0: æƒ…å¢ƒåœ– (Context Diagram)

### åœ–ç¤º

```mermaid
---
config:
  layout: dagre
---
flowchart LR
    Tech["ğŸ“„ æŠ€è¡“äº¤åº•æ›¸<br>DOCX"] -- è¼¸å…¥ --> Core["å°ˆåˆ©æ–‡ä»¶<br>è‡ªå‹•ç”Ÿæˆ"]
    User["ğŸ‘¤ ä½¿ç”¨è€…<br>å°ˆåˆ©å·¥ç¨‹å¸«"] -- æ“ä½œæŒ‡ä»¤ --> Core
    PatentDB["ğŸ—„ï¸ å°ˆåˆ©è³‡æ–™åº«<br>Google Patents"] -- ç¾æœ‰æŠ€è¡“è³‡æ–™ --> Core
    AI["ğŸ¤– AI æœå‹™<br>Claude API"] -- AI ç”Ÿæˆèƒ½åŠ› --> Core
    Core -- å°ˆåˆ©æ–‡ä»¶ --> Patent["ğŸ“‘ å®Œæ•´å°ˆåˆ©æ–‡ä»¶<br>MD + DOCX"]
    Core -- å“è³ªå ±å‘Š --> Report["ğŸ“Š å“è³ªå ±å‘Š"]
    Patent --> User
    Report --> User
    style Tech fill:#E8F5E9,stroke:#66BB6A,stroke-width:2px
    style Core fill:#4A90E2,stroke:#2E5C8A,stroke-width:3px,color:#fff
    style User fill:#FFE5B4,stroke:#CC9966,stroke-width:2px

```

### ICOM åˆ†æ

| è¦ç´  | å…§å®¹ | èªªæ˜ |
|------|------|------|
| **Input (I)** | æŠ€è¡“äº¤åº•æ›¸ (DOCX) | åŒ…å«æŠ€è¡“èƒŒæ™¯ã€æŠ€è¡“æ–¹æ¡ˆã€å¯¦æ–½ä¾‹ç­‰å…§å®¹ |
| **Control (C)** | å°ˆåˆ©æ³•è¦ç¯„ã€ä½¿ç”¨è€…æŒ‡ä»¤ã€å“è³ªæ¨™æº– | ç¬¦åˆä¸­åœ‹å°ˆåˆ©æ³•ã€å­—æ•¸è¦æ±‚ã€æ ¼å¼è¦ç¯„ |
| **Output (O)** | å®Œæ•´å°ˆåˆ©æ–‡ä»¶ã€å“è³ªå ±å‘Š | Markdown + DOCX æ ¼å¼ï¼Œå«æ‘˜è¦/æ¬Šåˆ©è¦æ±‚/èªªæ˜æ›¸/é™„åœ– |
| **Mechanism (M)** | AI æœå‹™ã€å°ˆåˆ©è³‡æ–™åº«ã€è¨ˆç®—è³‡æº | Claude AI APIã€Google Patentsã€ä¼ºæœå™¨ |

---

## A0: é ‚å±¤åŠŸèƒ½åœ–

### åŠŸèƒ½åˆ†è§£

```mermaid
flowchart TB
    Input["ğŸ“„ æŠ€è¡“äº¤åº•æ›¸"] --> A1

    A1["A1 ä»‹é¢ç®¡ç†<br/>UI Management"] --> A2["A2 æ–‡ä»¶è§£æ<br/>Document Parsing"]
    A2 --> A3["A3 å°ˆåˆ©æª¢ç´¢<br/>Patent Search"]
    A3 --> A4["A4 å¤§ç¶±ç”Ÿæˆ<br/>Outline Generation"]
    A4 --> A5["A5 å…§å®¹èµ·è‰<br/>Content Drafting"]
    A5 --> A6["A6 åœ–è¡¨ç”Ÿæˆ<br/>Diagram Generation"]
    A6 --> A7["A7 æ–‡ä»¶æ•´åˆ<br/>Document Merging"]
    A7 --> Output["ğŸ“‘ å®Œæ•´å°ˆåˆ©æ–‡ä»¶"]

    A8["A8 æµç¨‹æ§åˆ¶<br/>Workflow Control"] -.ç›£æ§.-> A2
    A8 -.ç›£æ§.-> A3
    A8 -.ç›£æ§.-> A4
    A8 -.ç›£æ§.-> A5
    A8 -.ç›£æ§.-> A6
    A8 -.ç›£æ§.-> A7

    Control["âš™ï¸ æ§åˆ¶:<br/>å°ˆåˆ©æ³•è¦ç¯„<br/>å“è³ªæ¨™æº–<br/>ä½¿ç”¨è€…è¨­å®š"] -.-> A8
    Mechanism["ğŸ”§ æ©Ÿåˆ¶:<br/>AI API<br/>å°ˆåˆ©è³‡æ–™åº«<br/>æª”æ¡ˆç³»çµ±"] -.-> A8

    style A1 fill:#FFF9C4,stroke:#F57C00,stroke-width:2px
    style A2 fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    style A3 fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    style A4 fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    style A5 fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    style A6 fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    style A7 fill:#C8E6C9,stroke:#388E3C,stroke-width:2px
    style A8 fill:#FFCCBC,stroke:#D84315,stroke-width:2px
```

### A0 åŠŸèƒ½åˆ—è¡¨

| åŠŸèƒ½ç·¨è™Ÿ | åŠŸèƒ½åç¨± | ä¸»è¦è·è²¬ | è¼¸å‡º |
|---------|---------|---------|------|
| A1 | ä»‹é¢ç®¡ç† | æä¾›ä½¿ç”¨è€…äº’å‹•ä»‹é¢ï¼Œè™•ç†æª”æ¡ˆä¸Šå‚³ | å·²ä¸Šå‚³çš„ DOCX æª”æ¡ˆ |
| A2 | æ–‡ä»¶è§£æ | è§£ææŠ€è¡“äº¤åº•æ›¸ï¼Œæå–çµæ§‹åŒ–è³‡è¨Š | parsed_info.json |
| A3 | å°ˆåˆ©æª¢ç´¢ | æœå°‹ç›¸ä¼¼å°ˆåˆ©ï¼Œåˆ†æç¾æœ‰æŠ€è¡“ | similar_patents.json |
| A4 | å¤§ç¶±ç”Ÿæˆ | ç”Ÿæˆå°ˆåˆ©æ–‡ä»¶å¤§ç¶±çµæ§‹ | patent_outline.md |
| A5 | å…§å®¹èµ·è‰ | èµ·è‰æ‘˜è¦ã€æ¬Šåˆ©è¦æ±‚ã€èªªæ˜æ›¸ | abstract.md, claims.md, description.md |
| A6 | åœ–è¡¨ç”Ÿæˆ | ç”Ÿæˆ Mermaid æµç¨‹åœ–ã€çµæ§‹åœ– | *.mmd æª”æ¡ˆ |
| A7 | æ–‡ä»¶æ•´åˆ | åˆä½µæ‰€æœ‰å…§å®¹ç‚ºå®Œæ•´å°ˆåˆ©æ–‡ä»¶ | complete_patent.md, patent.docx |
| A8 | æµç¨‹æ§åˆ¶ | å”èª¿å„æ¨¡çµ„åŸ·è¡Œé †åºï¼ŒéŒ¯èª¤è™•ç† | åŸ·è¡Œæ—¥èªŒã€å“è³ªå ±å‘Š |

---

## A1-A8: å­åŠŸèƒ½åˆ†è§£

### A1: ä»‹é¢ç®¡ç† (UI Management)

#### åŠŸèƒ½æè¿°
æä¾›ä½¿ç”¨è€…å‹å–„çš„ Web ä»‹é¢ï¼Œè™•ç†æª”æ¡ˆä¸Šå‚³ã€æœƒè©±ç®¡ç†å’Œé€²åº¦é¡¯ç¤ºã€‚

#### IDEF0 åœ–ç¤º

```
        [å°ˆåˆ©æ³•è¦ç¯„, UI/UX è¨­è¨ˆåŸå‰‡]
                    â†“
[ä½¿ç”¨è€…æ“ä½œ] â†’ [A1: ä»‹é¢ç®¡ç†] â†’ [å·²ä¸Šå‚³æª”æ¡ˆ, æœƒè©± ID]
                    â†‘
          [Streamlit æ¡†æ¶, æª”æ¡ˆç³»çµ±]
```

#### ICOM åˆ†æ

| è¦ç´  | é …ç›® | è©³ç´°èªªæ˜ |
|------|------|----------|
| **Input** | ä½¿ç”¨è€…æ“ä½œ | æª”æ¡ˆä¸Šå‚³ã€æŒ‰éˆ•é»æ“Šã€åƒæ•¸è¨­å®š |
| | ç³»çµ±ç‹€æ…‹ | ç•¶å‰æœƒè©±ç‹€æ…‹ã€æ­·å²è¨˜éŒ„ |
| **Control** | UI/UX è¨­è¨ˆè¦ç¯„ | ä»‹é¢ä½ˆå±€ã€äº’å‹•é‚è¼¯ã€éŒ¯èª¤æç¤º |
| | æª”æ¡ˆé©—è­‰è¦å‰‡ | DOCX æ ¼å¼æª¢æŸ¥ã€å¤§å°é™åˆ¶ (< 50MB) |
| **Output** | å·²ä¸Šå‚³æª”æ¡ˆ | å„²å­˜è‡³ `data/è¼¸å…¥.docx` |
| | æœƒè©± ID | UUID æ ¼å¼ï¼Œç”¨æ–¼å»ºç«‹å·¥ä½œç›®éŒ„ |
| | ä»‹é¢å›é¥‹ | æˆåŠŸ/éŒ¯èª¤è¨Šæ¯ã€é€²åº¦æ¢ |
| **Mechanism** | Streamlit æ¡†æ¶ | Python Web æ¡†æ¶ |
| | æª”æ¡ˆå„²å­˜ç³»çµ± | æœ¬åœ°æª”æ¡ˆç³»çµ±æˆ–é›²ç«¯å„²å­˜ |

#### é—œéµåŠŸèƒ½æ¨¡çµ„
1. **æª”æ¡ˆä¸Šå‚³æ¨¡çµ„**
   - æ”¯æ´æ‹–æ”¾ä¸Šå‚³
   - æ ¼å¼é©—è­‰ (åƒ…æ¥å— .docx)
   - å¤§å°é™åˆ¶æª¢æŸ¥
   - é‡è¤‡æª”æ¡ˆè™•ç†

2. **æœƒè©±ç®¡ç†æ¨¡çµ„**
   - ç”Ÿæˆå”¯ä¸€ UUID
   - å»ºç«‹å·¥ä½œç›®éŒ„ `output/temp_[uuid]/`
   - æ­·å²æœƒè©±æŸ¥è©¢
   - æœƒè©±æ¢å¾©åŠŸèƒ½

3. **é€²åº¦é¡¯ç¤ºæ¨¡çµ„**
   - å³æ™‚é€²åº¦æ¢
   - ç•¶å‰åŸ·è¡Œéšæ®µé¡¯ç¤º
   - æ—¥èªŒè¼¸å‡ºè¦–çª—
   - éŒ¯èª¤æç¤ºå½ˆçª—

---

### A2: æ–‡ä»¶è§£æ (Document Parsing)

#### åŠŸèƒ½æè¿°
ä½¿ç”¨ NLP æŠ€è¡“è§£ææŠ€è¡“äº¤åº•æ›¸ï¼Œæå–æŠ€è¡“è¦ç´ ã€é—œéµè¡“èªå’Œçµæ§‹åŒ–è³‡è¨Šã€‚

#### IDEF0 åœ–ç¤º

```
        [è§£æè¦å‰‡, JSON Schema å®šç¾©]
                    â†“
[DOCX æª”æ¡ˆ] â†’ [A2: æ–‡ä»¶è§£æ] â†’ [parsed_info.json]
                    â†“
              [éŒ¯èª¤æ—¥èªŒ]
                    â†‘
        [Markitdown, Claude AI, NLP å·¥å…·]
```

#### ICOM åˆ†æ

| è¦ç´  | é …ç›® | è©³ç´°èªªæ˜ |
|------|------|----------|
| **Input** | æŠ€è¡“äº¤åº•æ›¸ | `data/è¼¸å…¥.docx` |
| **Control** | è§£æè¦å‰‡ | ç« ç¯€è­˜åˆ¥ã€é—œéµå­—æå–è¦å‰‡ |
| | JSON Schema | è¼¸å‡ºæ ¼å¼å®šç¾© (æŠ€è¡“èƒŒæ™¯ã€æŠ€è¡“æ–¹æ¡ˆã€å„ªé»ç­‰) |
| **Output** | çµæ§‹åŒ–è³‡è¨Š | `01_input/parsed_info.json` |
| | éŒ¯èª¤æ—¥èªŒ | è§£æå¤±æ•—çš„ç« ç¯€æˆ–æ ¼å¼éŒ¯èª¤ |
| **Mechanism** | Markitdown | DOCX â†’ Markdown è½‰æ› |
| | Claude AI | èªæ„ç†è§£å’Œè³‡è¨Šæå– |
| | input-parser Agent | å°ˆç”¨è§£æ Agent |

#### è¼¸å‡º JSON çµæ§‹ç¯„ä¾‹

```json
{
  "metadata": {
    "title": "å°ˆåˆ©åç¨±",
    "author": "ç™¼æ˜äºº",
    "date": "2025-10-30",
    "uuid": "abc123"
  },
  "technical_field": "æŠ€è¡“é ˜åŸŸæè¿°",
  "background": {
    "problems": ["ç¾æœ‰å•é¡Œ1", "ç¾æœ‰å•é¡Œ2"],
    "prior_art": ["ç¾æœ‰æŠ€è¡“1", "ç¾æœ‰æŠ€è¡“2"]
  },
  "technical_solution": {
    "core_idea": "æ ¸å¿ƒæŠ€è¡“æ€æƒ³",
    "key_features": ["ç‰¹å¾µ1", "ç‰¹å¾µ2", "ç‰¹å¾µ3"],
    "implementation": "å¯¦æ–½æ–¹å¼æ¦‚è¿°"
  },
  "advantages": ["å„ªé»1", "å„ªé»2", "å„ªé»3"],
  "embodiments": [
    {
      "title": "å¯¦æ–½ä¾‹1",
      "description": "è©³ç´°æè¿°",
      "figures": ["åœ–1", "åœ–2"]
    }
  ],
  "key_terms": ["è¡“èª1", "è¡“èª2", "è¡“èª3"]
}
```

---

### A3: å°ˆåˆ©æª¢ç´¢ (Patent Search)

#### åŠŸèƒ½æè¿°
é€é Google Patents API æª¢ç´¢ç›¸ä¼¼å°ˆåˆ©ï¼Œåˆ†æç¾æœ‰æŠ€è¡“ï¼Œå­¸ç¿’å„ªç§€çš„å°ˆåˆ©èµ·è‰é¢¨æ ¼ã€‚

#### IDEF0 åœ–ç¤º

```
        [æª¢ç´¢ç­–ç•¥, ç›¸ä¼¼åº¦é–¾å€¼]
                    â†“
[parsed_info.json] â†’ [A3: å°ˆåˆ©æª¢ç´¢] â†’ [similar_patents.json]
                    â†“                    â†“
              [æª¢ç´¢æ—¥èªŒ]          [prior_art_analysis.md]
                    â†‘
        [Google Patents API, Exa Search]
```

#### ICOM åˆ†æ

| è¦ç´  | é …ç›® | è©³ç´°èªªæ˜ |
|------|------|----------|
| **Input** | çµæ§‹åŒ–æŠ€è¡“è³‡è¨Š | `01_input/parsed_info.json` |
| | é—œéµå­—åˆ—è¡¨ | å¾æŠ€è¡“æ–¹æ¡ˆæå–çš„é—œéµè¡“èª |
| **Control** | æª¢ç´¢ç­–ç•¥ | é—œéµå­—çµ„åˆã€æª¢ç´¢ç¯„åœ (ä¸­åœ‹å°ˆåˆ©ã€è¿‘ 5 å¹´) |
| | ç›¸ä¼¼åº¦é–¾å€¼ | è‡³å°‘ 70% æŠ€è¡“ç›¸é—œæ€§ |
| | æ•¸é‡é™åˆ¶ | è¿”å›å‰ 10 ä»¶æœ€ç›¸ä¼¼å°ˆåˆ© |
| **Output** | ç›¸ä¼¼å°ˆåˆ©åˆ—è¡¨ | `02_research/similar_patents.json` |
| | ç¾æœ‰æŠ€è¡“åˆ†æ | `02_research/prior_art_analysis.md` |
| | å¯«ä½œé¢¨æ ¼åƒè€ƒ | `02_research/writing_style_guide.md` |
| **Mechanism** | Google Patents API | é€é MCP google-patents-mcp å‘¼å« |
| | Exa Search API | è£œå……ç¶²é æª¢ç´¢ |
| | patent-searcher Agent | å°ˆç”¨æª¢ç´¢ Agent |

#### è¼¸å‡ºçµæ§‹

**similar_patents.json**:
```json
{
  "search_query": "é—œéµå­—çµ„åˆ",
  "total_results": 156,
  "selected_patents": [
    {
      "patent_id": "CN1234567A",
      "title": "å°ˆåˆ©æ¨™é¡Œ",
      "abstract": "å°ˆåˆ©æ‘˜è¦",
      "filing_date": "2023-05-15",
      "relevance_score": 0.85,
      "key_claims": ["æ¬Šåˆ©è¦æ±‚1", "æ¬Šåˆ©è¦æ±‚2"],
      "technical_features": ["ç‰¹å¾µA", "ç‰¹å¾µB"]
    }
  ]
}
```

---

### A4: å¤§ç¶±ç”Ÿæˆ (Outline Generation)

#### åŠŸèƒ½æè¿°
åŸºæ–¼è§£æçš„æŠ€è¡“è³‡è¨Šå’Œæª¢ç´¢çš„å°ˆåˆ©ç¯„ä¾‹ï¼Œç”Ÿæˆç¬¦åˆå°ˆåˆ©æ³•è¦ç¯„çš„æ–‡ä»¶å¤§ç¶±ã€‚

#### IDEF0 åœ–ç¤º

```
        [å°ˆåˆ©æ³•æ ¼å¼è¦æ±‚, ç« ç¯€è¦ç¯„]
                    â†“
[parsed_info.json, similar_patents.json] â†’ [A4: å¤§ç¶±ç”Ÿæˆ] â†’ [patent_outline.md]
                    â†“
              [structure_mapping.json]
                    â†‘
              [outline-generator Agent]
```

#### ICOM åˆ†æ

| è¦ç´  | é …ç›® | è©³ç´°èªªæ˜ |
|------|------|----------|
| **Input** | æŠ€è¡“è³‡è¨Š | `01_input/parsed_info.json` |
| | ç›¸ä¼¼å°ˆåˆ© | `02_research/similar_patents.json` |
| **Control** | å°ˆåˆ©æ³•ç« ç¯€è¦ç¯„ | ç™¼æ˜åç¨±ã€æ‘˜è¦ã€æ¬Šåˆ©è¦æ±‚ã€èªªæ˜æ›¸ã€é™„åœ– |
| | å­—æ•¸è¦æ±‚ | æ‘˜è¦ < 300 å­—ã€èªªæ˜æ›¸ > 10000 å­— |
| | é‚è¼¯å®Œæ•´æ€§ | æŠ€è¡“å•é¡Œ-æŠ€è¡“æ–¹æ¡ˆ-æŠ€è¡“æ•ˆæœçš„é‚è¼¯éˆ |
| **Output** | å°ˆåˆ©å¤§ç¶± | `03_outline/patent_outline.md` |
| | çµæ§‹æ˜ å°„ | `03_outline/structure_mapping.json` (ç« ç¯€-å…§å®¹å°æ‡‰) |
| **Mechanism** | outline-generator Agent | å°ˆç”¨å¤§ç¶±ç”Ÿæˆ Agent |
| | Claude AI | çµæ§‹åŒ–è¦åŠƒèƒ½åŠ› |

#### å¤§ç¶±çµæ§‹ç¯„ä¾‹

```markdown
# å°ˆåˆ©å¤§ç¶±

## 1. ç™¼æ˜åç¨±
[åŸºæ–¼æŠ€è¡“æ ¸å¿ƒçš„ç°¡æ½”åç¨±]

## 2. æŠ€è¡“é ˜åŸŸ
[æ‰€å±¬æŠ€è¡“é ˜åŸŸæè¿°]

## 3. èƒŒæ™¯æŠ€è¡“
### 3.1 ç¾æœ‰æŠ€è¡“å•é¡Œ
### 3.2 ç¾æœ‰æŠ€è¡“æ–¹æ¡ˆåŠç¼ºé™·

## 4. ç™¼æ˜å…§å®¹
### 4.1 ç™¼æ˜ç›®çš„
### 4.2 æŠ€è¡“æ–¹æ¡ˆ
### 4.3 æœ‰ç›Šæ•ˆæœ

## 5. é™„åœ–èªªæ˜
### 5.1 ç³»çµ±æ¶æ§‹åœ–
### 5.2 æ–¹æ³•æµç¨‹åœ–
### 5.3 çµæ§‹ç¤ºæ„åœ–

## 6. å…·é«”å¯¦æ–½æ–¹å¼
### 6.1 å¯¦æ–½ä¾‹ 1
### 6.2 å¯¦æ–½ä¾‹ 2
### 6.3 è®ŠåŒ–ä¾‹

## 7. æ¬Šåˆ©è¦æ±‚æ›¸
### 7.1 ç¨ç«‹æ¬Šåˆ©è¦æ±‚
### 7.2 å¾å±¬æ¬Šåˆ©è¦æ±‚

## 8. æ‘˜è¦
[ç°¡è¦æŠ€è¡“æ–¹æ¡ˆæè¿°]
```

---

### A5: å…§å®¹èµ·è‰ (Content Drafting)

#### åŠŸèƒ½æè¿°
æ ¹æ“šå¤§ç¶±åˆ†åˆ¥èµ·è‰æ‘˜è¦ã€æ¬Šåˆ©è¦æ±‚æ›¸å’Œå…·é«”å¯¦æ–½æ–¹å¼ï¼Œç¢ºä¿é‚è¼¯é€£è²«ã€è¡“èªä¸€è‡´ã€‚

#### IDEF0 åœ–ç¤º

```
        [å°ˆåˆ©èµ·è‰è¦ç¯„, å­—æ•¸è¦æ±‚, è¡“èªè©å…¸]
                    â†“
[patent_outline.md] â†’ [A5: å…§å®¹èµ·è‰] â†’ [abstract.md, claims.md, description.md]
                    â†“
              [è¡“èªä¸€è‡´æ€§å ±å‘Š]
                    â†‘
    [abstract-writer, claims-writer, description-writer Agents]
```

#### ICOM åˆ†æ

| è¦ç´  | é …ç›® | è©³ç´°èªªæ˜ |
|------|------|----------|
| **Input** | å°ˆåˆ©å¤§ç¶± | `03_outline/patent_outline.md` |
| | çµæ§‹æ˜ å°„ | `03_outline/structure_mapping.json` |
| **Control** | å°ˆåˆ©èµ·è‰è¦ç¯„ | æ‘˜è¦å¯«æ³•ã€æ¬Šåˆ©è¦æ±‚æ ¼å¼ã€èªªæ˜æ›¸é‚è¼¯ |
| | å­—æ•¸è¦æ±‚ | æ‘˜è¦ < 300 å­—ã€èªªæ˜æ›¸ > 10000 å­— |
| | è¡“èªä¸€è‡´æ€§ | å…¨æ–‡ä½¿ç”¨çµ±ä¸€è¡“èªï¼Œå»ºç«‹è¡“èªè©å…¸ |
| **Output** | æ‘˜è¦ | `04_content/abstract.md` |
| | æ¬Šåˆ©è¦æ±‚æ›¸ | `04_content/claims.md` (ç¨ç«‹+å¾å±¬æ¬Šåˆ©è¦æ±‚) |
| | å…·é«”å¯¦æ–½æ–¹å¼ | `04_content/description.md` (>10000 å­—) |
| | è¡“èªè©å…¸ | `04_content/terminology.json` |
| **Mechanism** | abstract-drafter Agent | æ‘˜è¦èµ·è‰å°ˆå®¶ |
| | claims-drafter Agent | æ¬Šåˆ©è¦æ±‚èµ·è‰å°ˆå®¶ |
| | description-drafter Agent | èªªæ˜æ›¸èµ·è‰å°ˆå®¶ |
| | Claude AI | é•·æ–‡æœ¬ç”Ÿæˆèƒ½åŠ› |

#### åŸ·è¡Œæµç¨‹

```mermaid
sequenceDiagram
    participant Control as A8 æµç¨‹æ§åˆ¶
    participant A5 as A5 å…§å®¹èµ·è‰
    participant Abstract as abstract-drafter
    participant Claims as claims-drafter
    participant Desc as description-drafter
    participant FS as æª”æ¡ˆç³»çµ±

    Control->>A5: å•Ÿå‹•å…§å®¹èµ·è‰
    A5->>FS: è®€å– patent_outline.md

    A5->>Abstract: èµ·è‰æ‘˜è¦
    Abstract->>FS: è¼¸å‡º abstract.md

    A5->>Claims: èµ·è‰æ¬Šåˆ©è¦æ±‚ (ä¾è³´æ‘˜è¦)
    Claims->>FS: è¼¸å‡º claims.md

    A5->>Desc: èµ·è‰èªªæ˜æ›¸ (ä¾è³´æ¬Šåˆ©è¦æ±‚)
    Desc->>FS: è¼¸å‡º description.md

    A5->>A5: è¡“èªä¸€è‡´æ€§æª¢æŸ¥
    A5->>FS: è¼¸å‡º terminology.json
    A5->>Control: å®Œæˆ,è¿”å›æª”æ¡ˆè·¯å¾‘
```

---

### A6: åœ–è¡¨ç”Ÿæˆ (Diagram Generation)

#### åŠŸèƒ½æè¿°
åŸºæ–¼æŠ€è¡“æ–¹æ¡ˆè‡ªå‹•ç”Ÿæˆ Mermaid æ ¼å¼çš„æµç¨‹åœ–ã€çµæ§‹åœ–å’Œæ™‚åºåœ–ã€‚

#### IDEF0 åœ–ç¤º

```
        [åœ–è¡¨é¡å‹è¦ç¯„, Mermaid èªæ³•è¦å‰‡]
                    â†“
[description.md, structure_mapping.json] â†’ [A6: åœ–è¡¨ç”Ÿæˆ] â†’ [*.mmd åœ–è¡¨æª”æ¡ˆ]
                    â†“
              [åœ–è¡¨ç´¢å¼•]
                    â†‘
              [diagram-generator Agent]
```

#### ICOM åˆ†æ

| è¦ç´  | é …ç›® | è©³ç´°èªªæ˜ |
|------|------|----------|
| **Input** | å…·é«”å¯¦æ–½æ–¹å¼ | `04_content/description.md` |
| | çµæ§‹æ˜ å°„ | `03_outline/structure_mapping.json` |
| **Control** | åœ–è¡¨é¡å‹è¦ç¯„ | æµç¨‹åœ–ã€çµæ§‹åœ–ã€æ™‚åºåœ–ã€é¡åˆ¥åœ– |
| | Mermaid èªæ³• | ç¬¦åˆ Mermaid å®˜æ–¹èªæ³• |
| | åœ–è¡¨æ•¸é‡ | è‡³å°‘ 3 å¼µåœ–,æœ€å¤š 10 å¼µåœ– |
| **Output** | æµç¨‹åœ– | `05_diagrams/flowcharts/*.mmd` |
| | çµæ§‹åœ– | `05_diagrams/structural_diagrams/*.mmd` |
| | æ™‚åºåœ– | `05_diagrams/sequence_diagrams/*.mmd` |
| | åœ–è¡¨ç´¢å¼• | `05_diagrams/diagram_index.json` |
| **Mechanism** | diagram-generator Agent | åœ–è¡¨ç”Ÿæˆå°ˆå®¶ |
| | Mermaid é©—è­‰å™¨ | èªæ³•æ­£ç¢ºæ€§æª¢æŸ¥ |

#### è¼¸å‡ºç¯„ä¾‹

**system_architecture.mmd**:
```mermaid
flowchart TB
    A[ä½¿ç”¨è€…ä»‹é¢] --> B[æ§åˆ¶æ¨¡çµ„]
    B --> C[æ•¸æ“šè™•ç†æ¨¡çµ„]
    B --> D[AI æ¨ç†æ¨¡çµ„]
    C --> E[å„²å­˜æ¨¡çµ„]
    D --> E
    E --> F[è¼¸å‡ºæ¨¡çµ„]
```

---

### A7: æ–‡ä»¶æ•´åˆ (Document Merging)

#### åŠŸèƒ½æè¿°
å°‡æ‰€æœ‰æ’°å¯«å®Œæˆçš„ç« ç¯€å’Œåœ–è¡¨æ•´åˆç‚ºå®Œæ•´çš„å°ˆåˆ©æ–‡ä»¶,ä¸¦è½‰æ›ç‚º DOCX æ ¼å¼ã€‚

#### IDEF0 åœ–ç¤º

```
        [æ–‡ä»¶æ ¼å¼è¦ç¯„, æ’ç‰ˆè¦å‰‡]
                    â†“
[æ‰€æœ‰ MD æª”æ¡ˆ + åœ–è¡¨] â†’ [A7: æ–‡ä»¶æ•´åˆ] â†’ [complete_patent.md, patent.docx]
                    â†“
              [summary_report.md]
                    â†‘
        [markdown-merger Agent, Pandoc]
```

#### ICOM åˆ†æ

| è¦ç´  | é …ç›® | è©³ç´°èªªæ˜ |
|------|------|----------|
| **Input** | æ‘˜è¦ | `04_content/abstract.md` |
| | æ¬Šåˆ©è¦æ±‚æ›¸ | `04_content/claims.md` |
| | èªªæ˜æ›¸ | `04_content/description.md` |
| | åœ–è¡¨æª”æ¡ˆ | `05_diagrams/**/*.mmd` |
| **Control** | æ–‡ä»¶æ ¼å¼è¦ç¯„ | ç« ç¯€é †åºã€ç·¨è™Ÿæ ¼å¼ã€é ç¢¼ |
| | æ’ç‰ˆè¦å‰‡ | å­—é«”ã€è¡Œè·ã€åœ–è¡¨ä½ç½® |
| | å“è³ªæª¢æŸ¥æ¸…å–® | å­—æ•¸ã€è¡“èªã€æ ¼å¼å®Œæ•´æ€§ |
| **Output** | å®Œæ•´ Markdown | `06_final/complete_patent.md` |
| | Word æ–‡ä»¶ | `06_final/patent_application.docx` |
| | ç¸½çµå ±å‘Š | `06_final/summary_report.md` (å­—æ•¸çµ±è¨ˆã€å“è³ªæŒ‡æ¨™) |
| **Mechanism** | markdown-merger Agent | æ–‡ä»¶æ•´åˆå°ˆå®¶ |
| | Pandoc | Markdown â†’ DOCX è½‰æ›å·¥å…· |
| | å“è³ªæª¢æŸ¥æ¨¡çµ„ | è‡ªå‹•åŒ–é©—è­‰ |

---

### A8: æµç¨‹æ§åˆ¶ (Workflow Control)

#### åŠŸèƒ½æè¿°
å”èª¿æ‰€æœ‰æ¨¡çµ„çš„åŸ·è¡Œé †åº,ç›£æ§é€²åº¦,è™•ç†éŒ¯èª¤,ç¢ºä¿æ•´å€‹æµç¨‹è‡ªå‹•åŒ–é‹è¡Œã€‚

#### IDEF0 åœ–ç¤º

```
        [åŸ·è¡Œç­–ç•¥, é‡è©¦ç­–ç•¥, å“è³ªæ¨™æº–]
                    â†“
[å•Ÿå‹•æŒ‡ä»¤] â†’ [A8: æµç¨‹æ§åˆ¶] â†’ [åŸ·è¡Œç‹€æ…‹, é€²åº¦å ±å‘Š]
              â†“     â†“     â†“
          [A2] [A3] [A4] ... [A7]
              â†‘     â†‘     â†‘
      [ç‹€æ…‹ç›£æ§, éŒ¯èª¤è™•ç†, æ—¥èªŒè¨˜éŒ„]
                    â†‘
          [å·¥ä½œæµå¼•æ“, æª”æ¡ˆç³»çµ±]
```

#### ICOM åˆ†æ

| è¦ç´  | é …ç›® | è©³ç´°èªªæ˜ |
|------|------|----------|
| **Input** | ä½¿ç”¨è€…å•Ÿå‹•æŒ‡ä»¤ | åŒ…å«æœƒè©± IDã€æª”æ¡ˆè·¯å¾‘ |
| | å„æ¨¡çµ„ç‹€æ…‹å›å ± | æˆåŠŸ/å¤±æ•—/é€²è¡Œä¸­ |
| **Control** | åŸ·è¡Œç­–ç•¥ | åš´æ ¼é †åºåŸ·è¡Œ: A1â†’A2â†’A3â†’A4â†’A5â†’A6â†’A7 |
| | é‡è©¦ç­–ç•¥ | å¤±æ•—æœ€å¤šé‡è©¦ 3 æ¬¡,è¨˜éŒ„éŒ¯èª¤ |
| | å“è³ªæ¨™æº– | æ¯å€‹éšæ®µè¼¸å‡ºå¿…é ˆé€šéé©—è­‰ |
| | è¶…æ™‚è¨­å®š | å–®ä¸€æ¨¡çµ„æœ€é•·åŸ·è¡Œæ™‚é–“ (å¦‚ A5 æœ€å¤š 30 åˆ†é˜) |
| **Output** | åŸ·è¡Œç‹€æ…‹ | ç•¶å‰éšæ®µã€å®Œæˆç™¾åˆ†æ¯” |
| | é€²åº¦å ±å‘Š | å¯¦æ™‚æ›´æ–°åˆ° UI |
| | éŒ¯èª¤æ—¥èªŒ | `metadata/agent_logs/[module]_error.log` |
| | å“è³ªå ±å‘Š | `metadata/quality_check.json` |
| **Mechanism** | å·¥ä½œæµå¼•æ“ | ç‹€æ…‹æ©Ÿç®¡ç†ã€äº‹ä»¶é©…å‹• |
| | ä¸» Agent (Lead Agent) | å°ˆæ¡ˆç¶“ç† Agent |
| | æª”æ¡ˆç³»çµ± | æ¨¡çµ„é–“é€šè¨Šåª’ä»‹ |
| | ç›£æ§æ¨¡çµ„ | è³‡æºä½¿ç”¨ã€åŸ·è¡Œæ™‚é–“è¿½è¹¤ |

#### ç‹€æ…‹æ©Ÿè¨­è¨ˆ

```mermaid
stateDiagram-v2
    [*] --> Initialized: ä½¿ç”¨è€…å•Ÿå‹•
    Initialized --> Parsing: A2 æ–‡ä»¶è§£æ
    Parsing --> Searching: æˆåŠŸ
    Parsing --> Error: å¤±æ•— (é‡è©¦)
    Searching --> Outlining: A3 å°ˆåˆ©æª¢ç´¢æˆåŠŸ
    Searching --> Error: å¤±æ•—
    Outlining --> Writing: A4 å¤§ç¶±ç”ŸæˆæˆåŠŸ
    Outlining --> Error: å¤±æ•—
    Writing --> Diagramming: A5 å…§å®¹æ’°å¯«æˆåŠŸ
    Writing --> Error: å¤±æ•—
    Diagramming --> Merging: A6 åœ–è¡¨ç”ŸæˆæˆåŠŸ
    Diagramming --> Error: å¤±æ•—
    Merging --> Completed: A7 æ–‡ä»¶æ•´åˆæˆåŠŸ
    Merging --> Error: å¤±æ•—
    Error --> Parsing: é‡è©¦ A2
    Error --> Searching: é‡è©¦ A3
    Error --> [*]: è¶…éé‡è©¦æ¬¡æ•¸
    Completed --> [*]: è¼¸å‡ºå®Œæ•´æ–‡ä»¶
```

---

## ICOM åˆ†æè¡¨

### å®Œæ•´ç³»çµ± ICOM ç¸½è¦½

| æ¨¡çµ„ | Input (è¼¸å…¥) | Control (æ§åˆ¶) | Output (è¼¸å‡º) | Mechanism (æ©Ÿåˆ¶) |
|------|-------------|----------------|---------------|-----------------|
| **A1: ä»‹é¢ç®¡ç†** | ä½¿ç”¨è€…æ“ä½œã€ç³»çµ±ç‹€æ…‹ | UI/UX è¦ç¯„ã€æª”æ¡ˆé©—è­‰è¦å‰‡ | å·²ä¸Šå‚³æª”æ¡ˆã€æœƒè©± IDã€ä»‹é¢å›é¥‹ | Streamlitã€æª”æ¡ˆç³»çµ± |
| **A2: æ–‡ä»¶è§£æ** | DOCX æª”æ¡ˆ | è§£æè¦å‰‡ã€JSON Schema | parsed_info.jsonã€éŒ¯èª¤æ—¥èªŒ | Markitdownã€Claude AIã€input-parser Agent |
| **A3: å°ˆåˆ©æª¢ç´¢** | parsed_info.jsonã€é—œéµå­— | æª¢ç´¢ç­–ç•¥ã€ç›¸ä¼¼åº¦é–¾å€¼ã€æ•¸é‡é™åˆ¶ | similar_patents.jsonã€prior_art_analysis.md | Google Patents APIã€patent-searcher Agent |
| **A4: å¤§ç¶±ç”Ÿæˆ** | parsed_info.jsonã€similar_patents.json | å°ˆåˆ©æ³•ç« ç¯€è¦ç¯„ã€å­—æ•¸è¦æ±‚ã€é‚è¼¯å®Œæ•´æ€§ | patent_outline.mdã€structure_mapping.json | outline-generator Agentã€Claude AI |
| **A5: å…§å®¹èµ·è‰** | patent_outline.mdã€structure_mapping.json | å°ˆåˆ©èµ·è‰è¦ç¯„ã€å­—æ•¸è¦æ±‚ã€è¡“èªä¸€è‡´æ€§ | abstract.mdã€claims.mdã€description.mdã€terminology.json | abstract/claims/description-drafter Agents |
| **A6: åœ–è¡¨ç”Ÿæˆ** | description.mdã€structure_mapping.json | åœ–è¡¨é¡å‹è¦ç¯„ã€Mermaid èªæ³•ã€æ•¸é‡é™åˆ¶ | *.mmd åœ–è¡¨æª”æ¡ˆã€diagram_index.json | diagram-generator Agentã€Mermaid é©—è­‰å™¨ |
| **A7: æ–‡ä»¶æ•´åˆ** | æ‰€æœ‰ MD æª”æ¡ˆã€åœ–è¡¨æª”æ¡ˆ | æ–‡ä»¶æ ¼å¼è¦ç¯„ã€æ’ç‰ˆè¦å‰‡ã€å“è³ªæª¢æŸ¥æ¸…å–® | complete_patent.mdã€patent.docxã€summary_report.md | markdown-merger Agentã€Pandocã€å“è³ªæª¢æŸ¥æ¨¡çµ„ |
| **A8: æµç¨‹æ§åˆ¶** | å•Ÿå‹•æŒ‡ä»¤ã€å„æ¨¡çµ„ç‹€æ…‹ | åŸ·è¡Œç­–ç•¥ã€é‡è©¦ç­–ç•¥ã€å“è³ªæ¨™æº–ã€è¶…æ™‚è¨­å®š | åŸ·è¡Œç‹€æ…‹ã€é€²åº¦å ±å‘Šã€éŒ¯èª¤æ—¥èªŒã€å“è³ªå ±å‘Š | å·¥ä½œæµå¼•æ“ã€Lead Agentã€ç›£æ§æ¨¡çµ„ |

---

## ç³»çµ±å¯¦ä½œå»ºè­°

### æŠ€è¡“æ£§é¸æ“‡

#### å‰ç«¯ (A1: ä»‹é¢ç®¡ç†)
```python
# æŠ€è¡“é¸å‹
- Streamlit 3.x: Web æ¡†æ¶
- streamlit-aggrid: é€²éšè¡¨æ ¼é¡¯ç¤º
- streamlit-lottie: å‹•ç•«æ•ˆæœ
```

#### å¾Œç«¯ (A2-A7: æ ¸å¿ƒåŠŸèƒ½)
```python
# æŠ€è¡“é¸å‹
- Python 3.10+: ä¸»è¦é–‹ç™¼èªè¨€
- FastAPI: API æœå‹™ (å¯é¸,ç”¨æ–¼å¾®æœå‹™æ¶æ§‹)
- Celery: éåŒæ­¥ä»»å‹™ä½‡åˆ— (è™•ç†é•·æ™‚é–“é‹è¡Œçš„ Agent)
- Redis: å¿«å–å’Œè¨Šæ¯ä½‡åˆ—
```

#### AI æ•´åˆ (æ‰€æœ‰æ¨¡çµ„)
```python
# æŠ€è¡“é¸å‹
- anthropic-sdk: Claude AI Python SDK
- langchain: Agent æ¡†æ¶å’Œ Prompt ç®¡ç†
- chromadb: å‘é‡è³‡æ–™åº« (ç”¨æ–¼ç›¸ä¼¼å°ˆåˆ©æª¢ç´¢)
```

#### å·¥ä½œæµå¼•æ“ (A8: æµç¨‹æ§åˆ¶)
```python
# æŠ€è¡“é¸å‹é¸é …
# é¸é … 1: è¼•é‡ç´š - ä½¿ç”¨ç‹€æ…‹æ©Ÿ
- python-statemachine: ç‹€æ…‹æ©Ÿå¯¦ä½œ

# é¸é … 2: ä¼æ¥­ç´š - ä½¿ç”¨å·¥ä½œæµå¼•æ“
- Apache Airflow: DAG å·¥ä½œæµç·¨æ’
- Prefect: ç¾ä»£åŒ–å·¥ä½œæµå¼•æ“
- Temporal: åˆ†æ•£å¼å·¥ä½œæµå¼•æ“
```

#### æª”æ¡ˆè™•ç†
```python
# æŠ€è¡“é¸å‹
- markitdown: DOCX â†’ Markdown
- pypandoc: Markdown â†’ DOCX
- python-docx: DOCX ç›´æ¥æ“ä½œ
- mermaid-cli: Mermaid åœ–è¡¨æ¸²æŸ“
```

---

### æ¶æ§‹æ¨¡å¼å»ºè­°

#### é¸é … 1: å–®é«”å¼æ¶æ§‹ (Monolithic)
**é©ç”¨å ´æ™¯**: å°å‹åœ˜éšŠã€å¿«é€ŸåŸå‹ã€å–®æ©Ÿéƒ¨ç½²

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Streamlit Web æ‡‰ç”¨              â”‚
â”‚  (åŒ…å«æ‰€æœ‰ A1-A8 æ¨¡çµ„åœ¨åŒä¸€é€²ç¨‹)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æª”æ¡ˆç³»çµ± (output/temp_[uuid]/)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¤–éƒ¨ API: Claude AI, Google Patents    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å„ªé»**:
- é–‹ç™¼ç°¡å–®,æ˜“æ–¼é™¤éŒ¯
- éƒ¨ç½²å®¹æ˜“,å–®ä¸€ Docker å®¹å™¨
- é©åˆç¾æœ‰ Prompt-based æ¶æ§‹

**ç¼ºé»**:
- æ“´å±•æ€§æœ‰é™
- é•·æ™‚é–“é‹è¡Œå¯èƒ½é˜»å¡ UI

---

#### é¸é … 2: å¾®æœå‹™æ¶æ§‹ (Microservices)
**é©ç”¨å ´æ™¯**: å¤§å‹åœ˜éšŠã€é«˜ä½µç™¼ã€é›²ç«¯éƒ¨ç½²

```
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  API Gateway    â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
â”‚ UI Service   â”‚ â”‚ Parse Svc   â”‚ â”‚ Search Svc  â”‚
â”‚   (A1)       â”‚ â”‚   (A2)      â”‚ â”‚   (A3)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                â”‚                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  Workflow Svc   â”‚
                â”‚     (A8)        â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  Shared Storage â”‚
                â”‚  (MinIO/S3)     â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å„ªé»**:
- é«˜å¯æ“´å±•æ€§
- æ¨¡çµ„ç¨ç«‹éƒ¨ç½²
- é©åˆå¤šåœ˜éšŠé–‹ç™¼

**ç¼ºé»**:
- è¤‡é›œåº¦é«˜
- éœ€è¦ DevOps åŸºç¤è¨­æ–½

---

#### é¸é … 3: æ··åˆå¼æ¶æ§‹ (æ¨è–¦)
**çµåˆå–®é«”å¼å’Œå¾®æœå‹™çš„å„ªé»**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Streamlit Web æ‡‰ç”¨ (A1)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ HTTP API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     å·¥ä½œæµæ§åˆ¶å™¨ (A8) + FastAPI           â”‚
â”‚  - ä»»å‹™ä½‡åˆ— (Celery)                      â”‚
â”‚  - ç‹€æ…‹ç®¡ç† (Redis)                       â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
    â”‚      â”‚      â”‚      â”‚      â”‚      â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”â”Œâ”€â”€â–¼â”€â”€â”â”Œâ”€â”€â–¼â”€â”€â”â”Œâ”€â”€â–¼â”€â”€â”â”Œâ”€â”€â–¼â”€â”€â”â”Œâ”€â–¼â”€â”€â”
â”‚ A2   â”‚â”‚ A3  â”‚â”‚ A4  â”‚â”‚ A5  â”‚â”‚ A6  â”‚â”‚ A7 â”‚
â”‚Workerâ”‚â”‚Work â”‚â”‚Work â”‚â”‚Work â”‚â”‚Work â”‚â”‚Wk  â”‚
â””â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜
    â”‚      â”‚      â”‚      â”‚      â”‚      â”‚
    â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  æª”æ¡ˆç³»çµ± / S3  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å„ªé»**:
- UI å’Œå¾Œç«¯åˆ†é›¢,éåŒæ­¥è™•ç†
- å¯æ“´å±•æ€§å¥½
- è¤‡é›œåº¦é©ä¸­

**å¯¦ä½œå»ºè­°**:
1. **éšæ®µ 1**: å¯¦ä½œå–®é«”å¼åŸå‹,é©—è­‰ Agent æµç¨‹
2. **éšæ®µ 2**: æ”¹é€ ç‚ºæ··åˆå¼æ¶æ§‹,å¢åŠ éåŒæ­¥è™•ç†
3. **éšæ®µ 3**: æ ¹æ“šéœ€æ±‚è€ƒæ…®æ‹†åˆ†ç‚ºå¾®æœå‹™

---

### è³‡æ–™æµè¨­è¨ˆ

#### æª”æ¡ˆç³»çµ±çµæ§‹

```
output/
â””â”€â”€ temp_[uuid]/
    â”œâ”€â”€ 00_input/
    â”‚   â”œâ”€â”€ raw_document.docx
    â”‚   â””â”€â”€ parsed_info.json
    â”œâ”€â”€ 01_research/
    â”‚   â”œâ”€â”€ similar_patents.json
    â”‚   â””â”€â”€ prior_art_analysis.md
    â”œâ”€â”€ 02_outline/
    â”‚   â”œâ”€â”€ patent_outline.md
    â”‚   â””â”€â”€ structure_mapping.json
    â”œâ”€â”€ 03_content/
    â”‚   â”œâ”€â”€ abstract.md
    â”‚   â”œâ”€â”€ claims.md
    â”‚   â”œâ”€â”€ description.md
    â”‚   â””â”€â”€ terminology.json
    â”œâ”€â”€ 04_diagrams/
    â”‚   â”œâ”€â”€ flowcharts/*.mmd
    â”‚   â”œâ”€â”€ structural_diagrams/*.mmd
    â”‚   â””â”€â”€ sequence_diagrams/*.mmd
    â”œâ”€â”€ 05_final/
    â”‚   â”œâ”€â”€ complete_patent.md
    â”‚   â”œâ”€â”€ patent_application.docx
    â”‚   â””â”€â”€ summary_report.md
    â””â”€â”€ metadata/
        â”œâ”€â”€ project_info.json
        â”œâ”€â”€ workflow_state.json
        â”œâ”€â”€ quality_check.json
        â””â”€â”€ agent_logs/
            â”œâ”€â”€ a2_parsing.log
            â”œâ”€â”€ a3_search.log
            â””â”€â”€ ...
```

---

### API ä»‹é¢è¨­è¨ˆ

#### REST API ç«¯é» (FastAPI)

```python
# A1: ä»‹é¢ç®¡ç†
POST   /api/v1/session/create          # å»ºç«‹æ–°æœƒè©±
GET    /api/v1/session/{uuid}/status   # æŸ¥è©¢æœƒè©±ç‹€æ…‹
DELETE /api/v1/session/{uuid}          # åˆªé™¤æœƒè©±

# A2-A7: æ ¸å¿ƒåŠŸèƒ½
POST   /api/v1/workflow/start          # å•Ÿå‹•å·¥ä½œæµ
GET    /api/v1/workflow/{uuid}/progress # æŸ¥è©¢é€²åº¦
POST   /api/v1/workflow/{uuid}/stop    # ä¸­æ­¢å·¥ä½œæµ

# æª”æ¡ˆç®¡ç†
POST   /api/v1/files/upload            # ä¸Šå‚³æª”æ¡ˆ
GET    /api/v1/files/{uuid}/download   # ä¸‹è¼‰çµæœæª”æ¡ˆ
```

#### WebSocket ç«¯é» (å³æ™‚æ›´æ–°)

```python
WS     /api/v1/workflow/{uuid}/stream  # å³æ™‚æ—¥èªŒä¸²æµ
```

---

### éŒ¯èª¤è™•ç†ç­–ç•¥

#### éŒ¯èª¤åˆ†é¡

| éŒ¯èª¤é¡å‹ | è™•ç†ç­–ç•¥ | ç¯„ä¾‹ |
|---------|---------|------|
| **è¼¸å…¥éŒ¯èª¤** | æç¤ºä½¿ç”¨è€…ä¿®æ­£,ä¸é‡è©¦ | æª”æ¡ˆæ ¼å¼éŒ¯èª¤ã€å…§å®¹ä¸å®Œæ•´ |
| **ç¶²è·¯éŒ¯èª¤** | è‡ªå‹•é‡è©¦ (æŒ‡æ•¸é€€é¿) | API è«‹æ±‚è¶…æ™‚ã€é€£ç·šå¤±æ•— |
| **AI éŒ¯èª¤** | é‡è©¦ (æœ€å¤š 3 æ¬¡),è¨˜éŒ„ Prompt | Token è¶…é™ã€ç”Ÿæˆæ ¼å¼éŒ¯èª¤ |
| **ç³»çµ±éŒ¯èª¤** | è¨˜éŒ„æ—¥èªŒ,é€šçŸ¥ç®¡ç†å“¡ | è¨˜æ†¶é«”ä¸è¶³ã€ç£ç¢Ÿæ»¿ |

#### é‡è©¦ç­–ç•¥

```python
# æŒ‡æ•¸é€€é¿é‡è©¦
def retry_with_backoff(func, max_retries=3):
    for i in range(max_retries):
        try:
            return func()
        except Exception as e:
            wait_time = 2 ** i  # 1s, 2s, 4s
            time.sleep(wait_time)
            if i == max_retries - 1:
                raise
```

---

### å“è³ªä¿è­‰æ©Ÿåˆ¶

#### è‡ªå‹•åŒ–æª¢æŸ¥æ¸…å–®

```python
quality_checks = {
    "A2_parsing": [
        "parsed_info.json æ ¼å¼æ­£ç¢º",
        "åŒ…å«å¿…è¦æ¬„ä½: technical_field, background, solution",
        "é—œéµè¡“èªæ•¸é‡ >= 5"
    ],
    "A3_search": [
        "æ‰¾åˆ°ç›¸ä¼¼å°ˆåˆ© >= 3 ä»¶",
        "ç›¸ä¼¼åº¦æœ€é«˜åˆ† >= 0.7"
    ],
    "A5_writing": [
        "æ‘˜è¦å­—æ•¸ < 300",
        "èªªæ˜æ›¸å­—æ•¸ > 10000",
        "è¡“èªä¸€è‡´æ€§ = 100%"
    ],
    "A6_diagrams": [
        "åœ–è¡¨æ•¸é‡ >= 3",
        "æ‰€æœ‰ .mmd æª”æ¡ˆèªæ³•æ­£ç¢º"
    ]
}
```

---

### éƒ¨ç½²æ–¹æ¡ˆ

#### Docker Compose éƒ¨ç½² (æ¨è–¦)

```yaml
# docker-compose.yml
version: '3.8'

services:
  # Web UI
  streamlit:
    build: .
    ports:
      - "8501:8501"
    environment:
      - CLAUDE_API_KEY=${CLAUDE_API_KEY}
    volumes:
      - ./output:/workspace/output

  # å·¥ä½œæµæ§åˆ¶å™¨ + API
  api:
    build: ./api
    ports:
      - "8000:8000"
    depends_on:
      - redis
      - postgres

  # Celery Worker (è™•ç† A2-A7)
  worker:
    build: ./api
    command: celery -A app.celery worker
    depends_on:
      - redis
    environment:
      - CLAUDE_API_KEY=${CLAUDE_API_KEY}

  # Redis (ä»»å‹™ä½‡åˆ—)
  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"

  # PostgreSQL (æœƒè©±ç‹€æ…‹)
  postgres:
    image: postgres:15-alpine
    environment:
      POSTGRES_DB: patent_db
      POSTGRES_PASSWORD: ${DB_PASSWORD}
```

#### å•Ÿå‹•æŒ‡ä»¤

```bash
# 1. è¨­å®šç’°å¢ƒè®Šæ•¸
cp .env.example .env
# ç·¨è¼¯ .env,å¡«å…¥ API Keys

# 2. å•Ÿå‹•æœå‹™
docker-compose up -d

# 3. æŸ¥çœ‹æ—¥èªŒ
docker-compose logs -f

# 4. åœæ­¢æœå‹™
docker-compose down
```

---

### ç›£æ§å’Œå¯è§€æ¸¬æ€§

#### é—œéµæŒ‡æ¨™

```python
metrics = {
    "æ¥­å‹™æŒ‡æ¨™": [
        "æ¯æ—¥å®Œæˆå°ˆåˆ©æ•¸é‡",
        "å¹³å‡è™•ç†æ™‚é–“ (åˆ†é˜)",
        "æˆåŠŸç‡ (%)",
        "ä½¿ç”¨è€…æ»¿æ„åº¦"
    ],
    "æŠ€è¡“æŒ‡æ¨™": [
        "API å›æ‡‰æ™‚é–“",
        "Claude AI Token ä½¿ç”¨é‡",
        "éŒ¯èª¤ç‡ (æŒ‰æ¨¡çµ„)",
        "é‡è©¦æ¬¡æ•¸"
    ],
    "è³‡æºæŒ‡æ¨™": [
        "CPU ä½¿ç”¨ç‡",
        "è¨˜æ†¶é«”ä½¿ç”¨ç‡",
        "ç£ç¢Ÿç©ºé–“",
        "ç¶²è·¯æµé‡"
    ]
}
```

#### æ—¥èªŒè¨­è¨ˆ

```python
# çµæ§‹åŒ–æ—¥èªŒæ ¼å¼
{
    "timestamp": "2025-10-30T12:34:56Z",
    "level": "INFO",
    "module": "A5_content_writing",
    "session_id": "abc123",
    "message": "é–‹å§‹æ’°å¯«èªªæ˜æ›¸",
    "context": {
        "outline_length": 1234,
        "target_word_count": 10000
    }
}
```

---

## ç¸½çµ

### ç³»çµ±ç‰¹é»

âœ… **æ¨¡çµ„åŒ–**: 8 å€‹ç¨ç«‹åŠŸèƒ½æ¨¡çµ„,æ¸…æ™°çš„ ICOM å®šç¾©
âœ… **è‡ªå‹•åŒ–**: ç«¯åˆ°ç«¯è‡ªå‹•æµç¨‹,æœ€å°åŒ–äººå·¥ä»‹å…¥
âœ… **å¯æ“´å±•**: æ”¯æ´å–®é«”å¼ â†’ æ··åˆå¼ â†’ å¾®æœå‹™æ¼”é€²
âœ… **å¯ç›£æ§**: å®Œæ•´çš„æ—¥èªŒã€æŒ‡æ¨™å’ŒéŒ¯èª¤è™•ç†
âœ… **å¯é æ€§**: é‡è©¦æ©Ÿåˆ¶ã€å“è³ªæª¢æŸ¥ã€ç‹€æ…‹ç®¡ç†

### é–‹ç™¼è·¯ç·šåœ–

**Phase 1: MVP (4-6 é€±)**
- âœ… å¯¦ä½œ A1 (Streamlit UI)
- âœ… æ•´åˆç¾æœ‰ Prompt-based Agents (A2-A7)
- âœ… ç°¡å–®çš„æµç¨‹æ§åˆ¶ (A8)
- âœ… æª”æ¡ˆç³»çµ±è³‡æ–™æµ

**Phase 2: ç”¢å“åŒ– (6-8 é€±)**
- â¬œ æ”¹é€ ç‚ºæ··åˆå¼æ¶æ§‹
- â¬œ å¢åŠ éåŒæ­¥è™•ç† (Celery)
- â¬œ å®Œå–„éŒ¯èª¤è™•ç†å’Œé‡è©¦æ©Ÿåˆ¶
- â¬œ å“è³ªæª¢æŸ¥è‡ªå‹•åŒ–

**Phase 3: ä¼æ¥­åŒ– (8-12 é€±)**
- â¬œ ä½¿ç”¨è€…ç®¡ç†å’Œæ¬Šé™æ§åˆ¶
- â¬œ é›²ç«¯éƒ¨ç½²å’Œ CI/CD
- â¬œ ç›£æ§å’Œå‘Šè­¦ç³»çµ±
- â¬œ API æ–‡ä»¶å’Œ SDK

---

## é™„éŒ„

### è¡“èªè¡¨

| è¡“èª | è‹±æ–‡ | èªªæ˜ |
|-----|------|------|
| IDEF0 | Integration Definition | åŠŸèƒ½å»ºæ¨¡æ–¹æ³• |
| ICOM | Input-Control-Output-Mechanism | IDEF0 å››è¦ç´  |
| Agent | æ™ºèƒ½ä»£ç† | å…·æœ‰ç‰¹å®šåŠŸèƒ½çš„ AI å¯¦é«” |
| MCP | Model Context Protocol | AI å·¥å…·æ•´åˆå”è­° |
| UUID | Universally Unique Identifier | å…¨åŸŸå”¯ä¸€è­˜åˆ¥ç¢¼ |

### åƒè€ƒè³‡æ–™

1. IDEF0 æ¨™æº–: NIST FIPS PUB 183
2. Claude AI API æ–‡ä»¶: https://docs.anthropic.com
3. Streamlit æ–‡ä»¶: https://docs.streamlit.io
4. Mermaid åœ–è¡¨èªæ³•: https://mermaid.js.org

---

**æ–‡ä»¶çµæŸ**
